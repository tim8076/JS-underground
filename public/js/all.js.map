{"version":3,"sources":["all.js"],"names":["pages","document","querySelectorAll","showPage","page","forEach","item","classList","contains","add","remove","scorePanel","querySelector","timePanel","firstNumber","secondaryNumber","operation","resultInput","time","score","symbols","correctAnswer","showTime","milliseconds","minutes","Math","floor","seconds","innerText","showScore","str","innerHTML","setScore","isCorrect","creatQuestion","index","random","length","sign","getAnswerBySign","value","displayOperation","firstNum","lastNum","symbol","randomNumBoth","Min","Max","Range","Rand","num","round","min","max","subtraction","i","division","finalScore","restartButton","addEventListener","e","preventDefault","countDownTimer","timer","setInterval","clearInterval","keyCode","parseInt","target","startButton","init"],"mappings":"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","file":"all.js","sourcesContent":["\nconst pages = document.querySelectorAll('[data-page]')\nfunction showPage(page) {\n  pages.forEach((item) => {\n    if (!item.classList.contains('d-none')) {\n      item.classList.add('d-none');\n    }\n    if (item.classList.contains(page)) {\n      item.classList.remove('d-none');\n    }\n  });\n}\n\n// 進行遊戲\nconst scorePanel = document.querySelector('[data-score-panel]');\nconst timePanel = document.querySelector('[data-time-panel]');\nconst firstNumber = document.querySelector('[data-nmuber-first]');\nconst secondaryNumber = document.querySelector('[data-nmuber-secondary]');\nconst operation = document.querySelector('[data-operation]');\nconst resultInput = document.querySelector('[data-result-input]');\nlet time = 60000; // 60秒\nlet score = 0;  // 初始分數\nconst symbols = ['+', '-', '*', '/'];\nlet correctAnswer = '';\n\n// 顯示倒數時間\nfunction showTime(milliseconds) {\n  const minutes = Math.floor(milliseconds / 1000 / 60);\n  const seconds = (milliseconds / 1000) % 60;\n  timePanel.innerText = `0${minutes} : ${seconds < 10 ? `0${seconds}` : seconds}`;\n}\n// 顯示目前分數\nfunction showScore(score) {\n  let str = '';\n  if (score >= 100) str = `${score}`;\n  if (score < 100 && score >= 10) str = `0${score}`;\n  if (score < 10) str = `00${score}`;\n  scorePanel.innerHTML = str;\n}\n\nfunction setScore(isCorrect) {\n  if (time <= 60000 && time > 20000) {\n    isCorrect ? score += 1 : score > 0 ? score -= 1 : score;\n  } else if (time <= 20000) {\n    isCorrect ? score += 5 : score > 0 ? score -= 1 : score;\n  }\n}\n\n// 產生新題目\nfunction creatQuestion() {\n  const index = Math.floor(Math.random() * symbols.length);\n  const sign = symbols[index];\n  getAnswerBySign(sign);\n  resultInput.value = '';\n}\n\nfunction displayOperation({ firstNum, lastNum, symbol }) {\n  firstNumber.innerText = firstNum;\n  secondaryNumber.innerText = lastNum;\n  operation.innerText = symbol;\n}\n\n// 產生指定範圍隨機數字\nfunction randomNumBoth(Min, Max) {\n  const Range = Max - Min;\n  const Rand = Math.random();\n  const num = Min + Math.round(Rand * Range);  //四舍五入\n  return num;\n}\n\nfunction getAnswerBySign(sign) {\n  let min = 0;\n  let max = 0;\n  let firstNum = 0;\n  let lastNum = 0;\n  if (time <= 60000 && time > 40000) {\n    min = 1;\n    max = 9;\n  } else if (time <= 40000 && time > 20000 ) {\n    min = 10;\n    max = 99;\n  } else if (time <= 20000 && time > 0) {\n    min = 100;\n    max = 999;\n  }\n  switch (sign) {\n    case '+':\n      firstNum = randomNumBoth(min, max);\n      lastNum = randomNumBoth(min, max);\n      correctAnswer = firstNum + lastNum;\n      displayOperation({ firstNum, lastNum, symbol: '+' });\n      break;\n    case '-':\n      let subtraction = [];\n      for (let i = 0; subtraction.length < 2; i++) {\n        firstNum = randomNumBoth(min, max);\n        lastNum = randomNumBoth(min, max);\n        if (firstNum > lastNum ) {\n          subtraction[0] = firstNum;\n          subtraction[1] = lastNum;\n        }\n      }\n      correctAnswer = subtraction[0] - subtraction[1];\n      displayOperation({ firstNum, lastNum, symbol: '-' });\n      break;\n    case '*':\n      firstNum = randomNumBoth(min, max);\n      lastNum = randomNumBoth(min, max);\n      displayOperation({ firstNum, lastNum, symbol: 'x' });\n      correctAnswer = firstNum * lastNum;\n      break;\n    case '/':\n      let division = [];\n      for (let i = 0; division.length < 2; i++) {\n        firstNum = randomNumBoth(min, max);\n        lastNum = randomNumBoth(min, max);\n        if (firstNum % lastNum === 0 && firstNum > lastNum) {\n          division[0] = firstNum;\n          division[1] = lastNum;\n        }\n      }\n      correctAnswer = division[0] / division[1];\n      displayOperation({ firstNum, lastNum, symbol: '÷' });\n      break;\n  }\n}\n\n// 結果頁面\nconst finalScore = document.querySelector('[data-final-score]')\nconst restartButton = document.querySelector('[data-restart-button]');\n\nrestartButton.addEventListener('click', function(e) {\n  e.preventDefault();\n  showPage('start-page');\n})\n\nfunction countDownTimer() {\n  let timer;\n  timer = setInterval(function() {\n    time = time - 1000;\n    showTime(time);\n    if (time <= 0) {\n      // 清除計時器並將時間調回 60秒\n      clearInterval(timer);\n      time = 60000;\n      finalScore.innerText = score;\n      showPage('result-page');\n    }\n  },1000)\n}\n\nresultInput.addEventListener('keyup', function(e) {\n  e.preventDefault();\n  if (e.keyCode === 13 ) {\n    let value = parseInt(e.target.value);\n    if (!value) return;\n    if (value === correctAnswer) {\n      setScore(true);\n    } else {\n      setScore(false);\n    }\n    showScore(score);\n    creatQuestion();\n  }\n})\n\n// 開始遊戲按鈕\nconst startButton = document.querySelector('.start-button');\n\nstartButton.addEventListener('click', function (e) {\n  e.preventDefault();\n  showPage('game-page');\n  showTime(60000);\n  score = 0;\n  showScore(score);\n  countDownTimer();\n  creatQuestion();\n})\n\n// 初始化\nfunction init() {\n  showPage('start-page');\n}\ninit();\n\n"]}