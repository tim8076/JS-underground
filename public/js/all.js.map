{"version":3,"sources":["all.js"],"names":["pages","document","querySelectorAll","showPage","forEach","item","contains","add","classList","page","remove","scorePanel","querySelector","timePanel","firstNumber","secondaryNumber","operation","resultInput","time","showTime","milliseconds","symbols","Math","floor","correctAnswer","innerText","concat","minutes","seconds","score","str","showScore","isCorrect","innerHTML","index","random","length","getAnswerBySign","value","sign","_ref","firstNum","lastNum","symbol","Max","Range","min","randomNumBoth","Rand","num","max","subtraction","i","displayOperation","division","finalScore","restartButton","countDownTimer","timer","setInterval","clearInterval","addEventListener","e","preventDefault","target","creatQuestion","startButton","init"],"mappings":"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","file":"all.js","sourcesContent":["\nconst pages = document.querySelectorAll('[data-page]')\nfunction showPage(page) {\n  pages.forEach((item) => {\n    if (!item.classList.contains('d-none')) {\n      item.classList.add('d-none');\n    }\n    if (item.classList.contains(page)) {\n      item.classList.remove('d-none');\n    }\n  });\n}\n\n// 進行遊戲\nconst scorePanel = document.querySelector('[data-score-panel]');\nconst timePanel = document.querySelector('[data-time-panel]');\nconst firstNumber = document.querySelector('[data-nmuber-first]');\nconst secondaryNumber = document.querySelector('[data-nmuber-secondary]');\nconst operation = document.querySelector('[data-operation]');\nconst resultInput = document.querySelector('[data-result-input]');\nlet time = 60000; // 60秒\nlet score = 0;  // 初始分數\nconst symbols = ['+', '-', '*', '/'];\nlet correctAnswer = '';\n\n// 顯示倒數時間\nfunction showTime(milliseconds) {\n  const minutes = Math.floor(milliseconds / 1000 / 60);\n  const seconds = (milliseconds / 1000) % 60;\n  timePanel.innerText = `0${minutes} : ${seconds < 10 ? `0${seconds}` : seconds}`;\n}\n// 顯示目前分數\nfunction showScore(score) {\n  let str = '';\n  if (score >= 100) str = `${score}`;\n  if (score < 100 && score >= 10) str = `0${score}`;\n  if (score < 10) str = `00${score}`;\n  scorePanel.innerHTML = str;\n}\n\nfunction setScore(isCorrect) {\n  if (time <= 60000 && time > 20000) {\n    isCorrect ? score += 1 : score > 0 ? score -= 1 : score;\n  } else if (time <= 20000) {\n    isCorrect ? score += 5 : score > 0 ? score -= 1 : score;\n  }\n}\n\n// 產生新題目\nfunction creatQuestion() {\n  const index = Math.floor(Math.random() * symbols.length);\n  const sign = symbols[index];\n  getAnswerBySign(sign);\n  resultInput.value = '';\n}\n\nfunction displayOperation({ firstNum, lastNum, symbol }) {\n  firstNumber.innerText = firstNum;\n  secondaryNumber.innerText = lastNum;\n  operation.innerText = symbol;\n}\n\n// 產生指定範圍隨機數字\nfunction randomNumBoth(Min, Max) {\n  const Range = Max - Min;\n  const Rand = Math.random();\n  const num = Min + Math.round(Rand * Range);  //四舍五入\n  return num;\n}\n\nfunction getAnswerBySign(sign) {\n  let min = 0;\n  let max = 0;\n  let firstNum = 0;\n  let lastNum = 0;\n  if (time <= 60000 && time > 40000) {\n    min = 1;\n    max = 9;\n  } else if (time <= 40000 && time > 20000 ) {\n    min = 10;\n    max = 99;\n  } else if (time <= 20000 && time > 0) {\n    min = 100;\n    max = 999;\n  }\n  switch (sign) {\n    case '+':\n      firstNum = randomNumBoth(min, max);\n      lastNum = randomNumBoth(min, max);\n      correctAnswer = firstNum + lastNum;\n      displayOperation({ firstNum, lastNum, symbol: '+' });\n      break;\n    case '-':\n      let subtraction = [];\n      for (let i = 0; subtraction.length < 2; i++) {\n        firstNum = randomNumBoth(min, max);\n        lastNum = randomNumBoth(min, max);\n        if (firstNum > lastNum ) {\n          subtraction[0] = firstNum;\n          subtraction[1] = lastNum;\n        }\n      }\n      correctAnswer = subtraction[0] - subtraction[1];\n      displayOperation({ firstNum, lastNum, symbol: '-' });\n      break;\n    case '*':\n      firstNum = randomNumBoth(min, max);\n      lastNum = randomNumBoth(min, max);\n      displayOperation({ firstNum, lastNum, symbol: 'x' });\n      correctAnswer = firstNum * lastNum;\n      break;\n    case '/':\n      let division = [];\n      for (let i = 0; division.length < 2; i++) {\n        firstNum = randomNumBoth(min, max);\n        lastNum = randomNumBoth(min, max);\n        if (firstNum % lastNum === 0 && firstNum > lastNum) {\n          division[0] = firstNum;\n          division[1] = lastNum;\n        }\n      }\n      correctAnswer = division[0] / division[1];\n      displayOperation({ firstNum, lastNum, symbol: '÷' });\n      break;\n  }\n}\n\n// 結果頁面\nconst finalScore = document.querySelector('[data-final-score]')\nconst restartButton = document.querySelector('[data-restart-button]');\n\nrestartButton.addEventListener('click', function(e) {\n  e.preventDefault();\n  showPage('start-page');\n})\n\nfunction countDownTimer() {\n  let timer;\n  timer = setInterval(function() {\n    time = time - 1000;\n    showTime(time);\n    if (time <= 0) {\n      // 清除計時器並將時間調回 60秒\n      clearInterval(timer);\n      time = 60000;\n      finalScore.innerText = score;\n      showPage('result-page');\n    }\n  },1000)\n}\n\nresultInput.addEventListener('keyup', function(e) {\n  e.preventDefault();\n  if (e.keyCode === 13 ) {\n    let value = parseInt(e.target.value);\n    if (!value) return;\n    if (value === correctAnswer) {\n      setScore(true);\n    } else {\n      setScore(false);\n    }\n    showScore(score);\n    creatQuestion();\n  }\n})\n\n// 開始遊戲按鈕\nconst startButton = document.querySelector('.start-button');\n\nstartButton.addEventListener('click', function (e) {\n  e.preventDefault();\n  showPage('game-page');\n  showTime(60000);\n  score = 0;\n  showScore(score);\n  countDownTimer();\n  creatQuestion();\n})\n\n// 初始化\nfunction init() {\n  showPage('start-page');\n}\ninit();\n\n"]}